// v - 2014-03-28 13:23
$(function(){var a=$("#cache"),b=a.find("#cache-list");a.on("click","button",function(){var c=$(this);switch(c.data("role")){case"clear":c.attr("disabled","disabled").parents("tr").css("opacity",".5"),$.ajax("./",{data:{id:c.data("id"),act:"remove"},type:"POST",success:function(d){d.success===!0?(c.parents("tr").remove(),0===b.find("tbody td").length&&(b.after('<div class="alert alert-warning text-center">Your cache is currently empty.</div>'),b.remove(),a.find('button[data-role="clear-all"]').remove())):c.removeAttr("disabled").parents("tr").css("opacity","1")}});break;case"clear-all":b.css("opacity",".5"),$.ajax("./",{data:{act:"remove_all"},type:"POST",success:function(a){a.success===!0?(b.after('<div class="alert alert-warning text-center">Your cache is currently empty.</div>'),b.remove(),c.remove()):b.css("opacity","1")}});break;case"reinit":$.ajax("./",{data:{act:"remove_all"},type:"POST",success:function(a){window.location=window.location.pathname+"?reinit=1"}})}return!1})});